<div class="form-group">
    <div class="form-group">
        <label for="title" class="form-label">Title:</label>
        <input type="text" id="title" name="title" placeholder="Type something..." required class="form-input">
    </div>

    <!-- Text Model Dropdown -->
    <div class="form-group">
        <label for="textModel" class="form-label">Text Model:</label>
        <select id="textModel" name="textModel" class="form-input" onchange="toggleQualityDropdown()">
            <option value="gpt-4o" selected>GPT-4o mini</option>
            <option value="gpt-4o-mini">GPT-4o</option>
        </select>
    </div>
    </div>
</div>

<div class="form-group">
    <label for="inputText" class="form-label">Text Prompt:</label>
    <input type="text" id="inputText" name="inputText" placeholder="Type something..." required class="form-input">
</div>

<div class="form-group">
    <label for="frame" class="form-label">Template:</label>

    <div id="frame-selection" class="image-grid">
        {% for frame in frame_styles %}
        <div
            class="image-option"
            data-face-name="{{ frame.name }}"
            onclick="selectedFrame(this)"
            {% if loop.index == 1 %} class="selected" {% endif %}
        >
            <img
                src="{{ url_for('plugin.image', plugin_id='ai_text', filename=frame.icon) }}"
                alt="{{ frame.name }}"
            />
        </div>
        {% endfor %}
    </div>
    <input type="hidden" id="selected-frame" name="selectedFrame" value="{{ frame_styles[0].Name }}" />
</div>

<script>
    function selectedFrame(element) {
        // Remove the selected class from any previously selected option
        const previousSelection = document.querySelector('.image-option.selected');
        if (previousSelection) {
            previousSelection.classList.remove('selected');
        }

        // Add the selected class to the clicked option
        element.classList.add('selected');

        // Update the hidden input with the selected frame
        const selectedFaceName = element.getAttribute('data-face-name');
        document.getElementById('selected-frame').value = selectedFaceName;
    }

    // Default selection for the first frame
    document.addEventListener('DOMContentLoaded', () => {
        const firstOption = document.querySelector('.image-option');
        if (firstOption) {
            firstOption.classList.add('selected');
            document.getElementById('selected-frame').value = firstOption.getAttribute('data-face-name');
        }
    });
</script>